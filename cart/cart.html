{% extends "base.html" %}
{% block title %}è³¼ç‰©è»Š{% endblock %}

{% block content %}
<div class="cart-container">
  <h2>ğŸ›’ æˆ‘çš„è³¼ç‰©è»Š</h2>

  {% if items %}
  <table class="cart-table">
    <thead>
      <tr>
        <th>å•†å“åœ–ç‰‡</th>
        <th>åç¨±</th>
        <th>æ•¸é‡</th>
        <th>å–®åƒ¹</th>
        <th>å°è¨ˆ</th>
        <th>æ“ä½œ</th>
      </tr>
    </thead>
    <tbody>
      {% for item in items %}
      <tr>
        <td><img src="{% static item.image %}" alt="{{ item.name }}" class="cart-img"></td>
        <td>{{ item.name }}</td>
        <td>{{ item.qty }}</td>
        <td>NT$ {{ item.price }}</td>
        <td>NT$ {{ item.subtotal }}</td>
        <td>
          <form method="post" action="{% url 'cart:remove_from_cart' item.id %}">
            {% csrf_token %}
            <button type="submit" class="btn-danger">ç§»é™¤</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <h3 class="cart-total">ç¸½é‡‘é¡ï¼šNT$ {{ total }}</h3>
  <form method="post" action="{% url 'cart:clear_cart' %}">
    {% csrf_token %}
    <button type="submit" class="btn-danger">ğŸ§¹ æ¸…ç©ºè³¼ç‰©è»Š</button>
  </form>
  {% else %}
  <p>è³¼ç‰©è»Šå…§æ²’æœ‰å•†å“ã€‚</p>
  {% endif %}
</div>
{% endblock %}
